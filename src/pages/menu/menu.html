<!--
  Generated template for the MenuPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar transparent>
    <ion-title>{{menu.menu}}</ion-title>
    <ion-buttons end>
      <button class="white" ion-button (click)="openFilters()">
        Allergier
        <!--<ion-icon name="funnel" class="white"></ion-icon>-->
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <div *ngIf="menu.description != ''" padding class="menu-description">{{menu.description}}</div>

  <ion-card *ngIf="menu.active_start != '' && menu.active_start != null && menu.active_stop != '' && menu.active_stop != null">
    <ion-card-header text-center class="menu-time">
        Denne menyen serveres mellom<br>{{menu.active_start}} og {{menu.active_stop}}
    </ion-card-header>
  </ion-card>

  <ion-card *ngFor="let menuItem of menuItems">
      <ion-card-header>
        {{menuItem.label}}
        <span class="secondary" *ngIf="menuItem.secondary != ''"> &nbsp; | &nbsp; {{menuItem.secondary}}</span>
        <p *ngIf="menuItem.description != ''">{{menuItem.description}}</p>
      </ion-card-header>

      <ion-list *ngFor="let item of menuItem.items">
        <button ion-item (click)="gotoMenuItem(item.customermenuitemid)">
          <ion-icon name="warning" *ngIf="item.is_selected_allergies" class="text-orange"></ion-icon> 
          {{item.label}}

          <!-- Icons -->
          <ion-icon name="leaf" *ngIf="item.vegetarian == '1'" class="text-mantis"></ion-icon> 

          <ion-icon name="flame" *ngIf="item.spicy == '1'" class="text-red"></ion-icon> 

          <ion-icon name="flame" *ngIf="item.spicy == '2'" class="text-red"></ion-icon> 
          <ion-icon name="flame" *ngIf="item.spicy == '2'" class="text-red"></ion-icon> 

          <ion-icon name="flame" *ngIf="item.spicy == '3'" class="text-red"></ion-icon> 
          <ion-icon name="flame" *ngIf="item.spicy == '3'" class="text-red"></ion-icon> 
          <ion-icon name="flame" *ngIf="item.spicy == '3'" class="text-red"></ion-icon> 

          <p>{{item.description}}</p>
        </button>
      </ion-list>
  </ion-card>

</ion-content>

<!-- Shopping cart -->
<ion-footer class="dark" *ngIf="cartTotal > 0" (click)="gotoCart()">
  <ion-grid padding>
    <ion-row>
      <ion-col col-5 text-center>
          Din bestilling ({{cartAmount}})
      </ion-col>
      <ion-col col-6 text-center>
        {{cartTotal | priceFormat}}
      </ion-col>
      <ion-col col-1 text-center>
        <ion-icon name="arrow-forward"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>